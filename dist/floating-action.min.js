'use strict';var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,'value'in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function _inherits(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var Csfloatingaction=function(a){function b(){return _classCallCheck(this,b),_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return _inherits(b,a),_createClass(b,[{key:'connectedCallback',value:function connectedCallback(){this.setAttributes(),this.setElements(),this.addEvents(),this.hasScrolled()}},{key:'disconnectedCallback',value:function disconnectedCallback(){this.removeEventListener('mouseenter',this.buttonAction),this.removeEventListener('mouseleave',this.buttonAction),this.removeEventListener('click',this.buttonAction),window.removeEventListener('scroll',this.scrollEvent),this.buttonElement.removeEventListener('click',this.preventBtnClick)}},{key:'setAttributes',value:function setAttributes(){this.button=this.getAttribute('button'),this.container=this.getAttribute('container'),this.toggle=this.getAttribute('toggle'),this.moveContainer=this.getAttribute('move-container'),this.offSet=parseInt(this.getAttribute('to-bottom'))||0}},{key:'setElements',value:function setElements(){this.buttonElement=this.querySelector(this.button),this.containerElement=this.querySelector(this.container)}},{key:'addEvents',value:function addEvents(){this.isTouchDevice()||(this.addEventListener('mouseenter',this.buttonAction.bind(this),!1),this.addEventListener('mouseleave',this.buttonAction.bind(this),!1)),this.isTouchDevice()&&this.buttonElement.addEventListener('click',this.buttonAction.bind(this),!1)}},{key:'hasScrolled',value:function hasScrolled(){window.addEventListener('scroll',this.scrollEvent.bind(this),!1)}},{key:'scrollEvent',value:function scrollEvent(){var a=this.isBottom(this.offSet),b=this.classList.contains(this.moveContainer);a&&!b&&this.classList.add(this.moveContainer),!a&&b&&this.classList.remove(this.moveContainer)}},{key:'buttonAction',value:function buttonAction(a){a.preventDefault(),this.addRemoveClass(),this.buttonElement.addEventListener('click',this.preventBtnClick,!1)}},{key:'preventBtnClick',value:function preventBtnClick(a){a.preventDefault()}},{key:'addRemoveClass',value:function addRemoveClass(){var a=this.containerElement,b=a.classList.contains(this.toggle);b||a.classList.add(this.toggle),b&&a.classList.remove(this.toggle)}},{key:'isTouchDevice',value:function isTouchDevice(){try{return document.createEvent('TouchEvent'),!0}catch(a){return!1}}},{key:'isBottom',value:function isBottom(a){var b,c=document.body.offsetHeight-a,d=document.documentElement.clientHeight;return b=document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,!!(c<=b+d)}}]),b}(HTMLElement);customElements.define('cs-floatingaction',Csfloatingaction);
